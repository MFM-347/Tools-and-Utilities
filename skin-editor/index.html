<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Minecraft Skin Editor</title>
	<style>
		#canvas {
			border: 1px solid black;
			cursor: crosshair;
		}

		.toolbar {
			display: flex;
			margin-bottom: 10px;
		}

		.toolbar button {
			margin-right: 10px;
		}
	</style>
</head>

<body>
	<h1>Minecraft PE Skin Editor</h1>
	<div class="toolbar">
		<label for="part-selector">Select Body Part:</label>
		<select id="part-selector">
			<option value="head">Head</option>
			<option value="body">Body</option>
			<option value="left-arm">Left Arm</option>
			<option value="right-arm">Right Arm</option>
			<option value="left-leg">Left Leg</option>
			<option value="right-leg">Right Leg</option>
		</select>
		<input type="color" id="color-picker" value="#ff0000">
		<button id="import-skin">Import Skin</button>
		<button id="export-skin">Export Skin</button>
	</div>
	<canvas id="canvas" width="64" height="64"></canvas>
	<script src="script.js">
		const canvas = document.getElementById('canvas');
		const ctx = canvas.getContext('2d');
		const partSelector = document.getElementById('part-selector');
		const colorPicker = document.getElementById('color-picker');
		let currentColor = colorPicker.value;

		// Skin regions
		const skinRegions = {
			head: { x: 8, y: 8, width: 16, height: 16 },
			body: { x: 20, y: 20, width: 16, height: 24 },
			'left-arm': { x: 36, y: 20, width: 4, height: 12 },
			'right-arm': { x: 44, y: 20, width: 4, height: 12 },
			'left-leg': { x: 20, y: 48, width: 4, height: 12 },
			'right-leg': { x: 28, y: 48, width: 4, height: 12 }
		};

		// Set up canvas drawing
		canvas.addEventListener('mousedown', startDrawing);
		canvas.addEventListener('mouseup', stopDrawing);
		canvas.addEventListener('mousemove', draw);

		let isDrawing = false;
		function startDrawing(e) {
			isDrawing = true;
			draw(e);
		}

		function stopDrawing() {
			isDrawing = false;
			ctx.beginPath(); // Reset path after drawing
		}

		function draw(e) {
			if (!isDrawing) return;

			const rect = canvas.getBoundingClientRect();
			const x = e.clientX - rect.left;
			const y = e.clientY - rect.top;

			// Only allow drawing in selected region
			const selectedPart = skinRegions[partSelector.value];
			if (x >= selectedPart.x && x <= selectedPart.x + selectedPart.width &&
				y >= selectedPart.y && y <= selectedPart.y + selectedPart.height) {
				ctx.fillStyle = currentColor;
				ctx.fillRect(x, y, 1, 1); // Draw pixel-sized rectangles
			}
		}

		// Color picker
		colorPicker.addEventListener('input', () => {
			currentColor = colorPicker.value;
		});

		// Import and export functionality
		document.getElementById('import-skin').addEventListener('click', () => {
			const input = document.createElement('input');
			input.type = 'file';
			input.accept = 'image/png';
			input.onchange = function (e) {
				const reader = new FileReader();
				reader.onload = function (event) {
					const img = new Image();
					img.onload = function () {
						ctx.drawImage(img, 0, 0); // Draw the imported skin on the canvas
					};
					img.src = event.target.result;
				};
				reader.readAsDataURL(e.target.files[0]);
			};
			input.click();
		});

		document.getElementById('export-skin').addEventListener('click', () => {
			const link = document.createElement('a');
			link.download = 'minecraft_skin.png';
			link.href = canvas.toDataURL();
			link.click();
		});
	</script>
</body>

</html>